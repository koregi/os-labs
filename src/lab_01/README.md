# ОТВЕТЫ НА ВОПРОСЫ ДЛЯ САМОПРОВЕРКИ

## 1) В чем состоит различие между понятиями «поток» и «процесс»?
Процесс - это программа в состоянии выполнения, а поток - параллельно выполняющиеся процедуры в рамках одного процесса.

## 2) Как осуществить передачу параметров в функцию потока при создании потока?
Создание потока в стандарте POSIX осуществляется с помощью вызова функции `pthread_create(...)`.
Функция принимает 4 параметра, последний из которых, `void *arg` - указатель на структуру данных, описывающих передаваемые в поток параметры.
Поточная функция для этого использует формальные параметры. Поточная функция обяхательно имеет следующий шаблон:
```c++
    static void * thread_start(void *arg)
```
**Вопрос**
*По методичке:*
Создали тип данных, который хранит аргументы, которые надо передать в функцию:
```c++
   typedef struct {...} targs;
```
После этого их объявили, присвоили значения, передали параметры в потоки во время функции создания.
Теперь функция принимает параметры в потоке (дословно из методички):
```c++
    void * proc1(void *arg) {
        targs *args = (targs*) arg; // передаваемые параметры приведем к типу targs
```
Я не очень понимаю, в чем разница левой и правой части равенства. Насколько я понимаю, функция создания уже передает в поточную функцию тип targs.
Или это из-за void? Типа функция принимает "хоть что-то", не понимая что, и потом с этим разбирается. Просто я думала это по-другому работает.

## 3) Какие способы завершения потока существуют?
Завершить поток можно двумя способами.
1. С помощью функции `int pthread_cancel(pthread_t thread)` из другого потока;
2. С помощью функции `int pthread_exit(void *value_ptr)` из текущего потока.

В последнем случае появляется возможность через переменную `value_ptr` передать в основной поток "код завершения". При этом необходимо синхронизировать завершение с основным потоком.

Функция `pthread_exit()` вызывается в конце работы потока и выставляет некоторый код завершения в своем параметре. Например, для передачи кода завершения, равного 2:
```c++
    pthread_exit((void*)2)
```
Функция `main()` принимает это число в функции `pthread_join()`. Объявим в `main()` переменную (на примере одного потока):
``` c++
    int *exitcode;
```
Вызываем функцию `pthread_join()`:
```c++
   pthread_join(id, (void**)&exitcode);
```
В конце выводим код завершения на экран.

## 4) На какие характеристики потока можно влиять через атрибуты потока?
В работе

## 5) В каких состояниях может находиться поток?

## 6) Какие способы переключения задач используются в ОС?

## 7) Объясните суть параметров, входящих в вызов `pthread_create()`.
```c++
    int pthread_create(pthread_t *thread,
                       const pthread_attr_t *attr,
                       void *(*start_routine) (void *),
                       void *arg)
```
Здесь:
`thread` – указатель на идентификатор потока;
`attr` – указатель на структуру данных, описывающих атрибуты потока;
`start_routine` – имя функции, выполняющей роль потока;
`arg` – указатель на структуру данных, описывающих передаваемые в поток параметры.

## 8) Объясните суть параметров, входящих в вызов pthread_join().
## 9) Опишите трассу выполнения программы.

